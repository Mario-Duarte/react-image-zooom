(function(){"use strict";try{if(typeof document<"u"){var o=document.createElement("style");o.appendChild(document.createTextNode('@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}figure.image-zooom{position:relative;display:inline-block;width:auto;min-height:25vh;background-position:50% 50%;background-color:#eee;margin:0;overflow:hidden;cursor:zoom-in;-webkit-user-select:none;user-select:none}figure.image-zooom.loaded{min-height:auto}figure.image-zooom.zoomed{cursor:zoom-out}figure.image-zooom:before{content:"";background-color:transparent;position:absolute;top:0;left:0;right:0;width:100%;height:100%;opacity:1;transition:opacity .2s ease-in-out;z-index:1}figure.image-zooom.loaded:before{opacity:0}figure.image-zooom:after{content:"";position:absolute;top:calc(50% - 25px);left:calc(50% - 25px);width:50px;height:50px;border-radius:50%;border:5px solid transparent;border-top-color:#333;border-right-color:#333;border-bottom-color:#333;animation:rotate 2s linear infinite;opacity:1;transition:opacity .2s ease-in-out;z-index:2}figure.image-zooom.loaded:after{opacity:0}img#imageZoom{opacity:1;display:block}figure.image-zooom.zoomed img#imageZoom{opacity:0}p.image-zooom-error{width:100%;text-align:center;border:1px solid #f8f8f8;padding:8px 16px;border-radius:8px;color:#555}')),document.head.appendChild(o)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();
"use strict";const C=require("react/jsx-runtime"),s=require("react");function q(t,o){s.useEffect(()=>{const e=getComputedStyle(document.body).overflow||"auto";return t?document.body.style.overflow="hidden":document.body.style.overflow=e,()=>{document.body.style.overflow=e}},[t]),s.useEffect(()=>{if(!o)return;const e=n=>{t&&n.touches.length===1&&n.preventDefault()};return t&&o.addEventListener("touchmove",e,{passive:!1}),()=>{o.removeEventListener("touchmove",e)}},[t,o])}function V(t,o,e,n){return s.useMemo(()=>{if(!o||!e)return`${t}%`;const r=(n==null?void 0:n.clientWidth)||0;if(!r)return`${t}%`;const c=e/r*100;return`${c<100?t:c}%`},[t,o,e,n])}function X(t){return s.useCallback(o=>{if(!t)return;const e=t.getBoundingClientRect();let n,r;if((l=>"touches"in l)(o)){const l=o.touches[0];n=(l.clientX-e.x)/e.width*100,r=(l.clientY-e.y)/e.height*100}else n=(o.clientX-e.x)/e.width*100,r=(o.clientY-e.y)/e.height*100;return`${Math.max(0,Math.min(n,100))}% ${Math.max(0,Math.min(r,100))}%`},[t])}function Y(t,o){const[e,n]=s.useState({imgData:null,error:!1,naturalWidth:0,naturalHeight:0});return s.useEffect(()=>{if(n({imgData:null,error:!1,naturalWidth:0,naturalHeight:0}),!t){n(i=>({...i,error:!0}));return}const r=new Image,c=()=>{n({imgData:r.src,error:!1,naturalWidth:r.naturalWidth,naturalHeight:r.naturalHeight})},l=i=>{n(b=>({...b,error:!0})),o==null||o(i)};return r.addEventListener("load",c),r.addEventListener("error",l),r.src=t,()=>{r.removeEventListener("load",c),r.removeEventListener("error",l)}},[t,o]),e}function O({zoom:t="200",fullWidth:o=!1,alt:e="This is an imageZoom image",width:n="100%",height:r="auto",src:c,id:l,theme:i,onError:b,errorContent:S}){const[u,y]=s.useState(!1),[p,g]=s.useState("50% 50%"),m=s.useRef(null),d=X(m.current),h=s.useRef(!1);q(u,m.current);const{imgData:f,error:$,naturalWidth:D}=Y(c,b),E=V(t,o,D,m.current),L=(a,M,k,x,v,N)=>{M&&(h.current=!0);const I=!k;x(I);const Z=I?N(a):"50% 50%";Z&&v(Z)},T=(a,M,k,x)=>{if(M){const v=x(a);v&&k(v)}},j=s.useCallback(a=>{if(h.current){h.current=!1;return}L(a,!1,u,y,g,d)},[u,d]),w=s.useCallback(a=>{a.touches.length===1&&L(a,!0,u,y,g,d)},[u,d]),z=s.useCallback(a=>{T(a,u,g,d)},[u,d]),H=s.useCallback(a=>{a.touches.length===1&&(a.preventDefault(),h.current=!0,u?T(a,u,g,d):w(a))},[w,u,d]),P=s.useCallback(()=>{h.current=!1,y(!1),g("50% 50%")},[]),W=s.useMemo(()=>({backgroundImage:`url(${u&&f?f:""})`,backgroundSize:E,backgroundPosition:p}),[u,f,E,p]);if($)return s.isValidElement(S)?S:C.jsx("p",{className:"image-zooom-error",children:"There was a problem loading your image"});const B=[f?"loaded":"loading",u?"zoomed":"fullView","image-zooom",i==null?void 0:i.root].filter(Boolean).join(" ");return C.jsx("figure",{ref:m,id:l,className:B,style:W,onClick:j,onMouseMove:z,onMouseLeave:P,onTouchStart:w,onTouchMove:H,onTouchEnd:P,role:"button","aria-label":`Zoomable image: ${e}`,tabIndex:0,children:f&&C.jsx("img",{loading:"lazy",id:"imageZoom",className:i==null?void 0:i.image,src:f,alt:e,width:n,height:r})})}module.exports=O;
